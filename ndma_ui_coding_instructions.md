# NDMA-UI ドキュメントサイトおよび拡張機能 実装指示書

以下は、`ndma-ui` リポジトリに基づき、公式ドキュメントサイトおよび利用者向けデモ環境を構築するための包括的な指示書である。コーディングエージェント向けに、具体的かつ実装可能な作業単位へ落とし込んでいる。

---

## 1. 基本要件

### 1.1 目的
- `ndma-ui` のコンポーネント、レイアウト、テーマを公式に説明する **ドキュメントサイト** を作成する。
- 主要コンポーネントの **デモプレビュー** を提供する。
- 夜間最適化テーマ（CENTRIS UI）の切り替えを **実際に体験できる** ようにする。
- 追加予定の UI コンポーネントの土台を整える。

### 1.2 技術選定
- HTML + CSS + JavaScript（フレームワーク不要）
- ドキュメント構成は静的 HTML で構築
- GitHub Pages へのそのままデプロイを想定

---

## 2. サイト構造とページ仕様

### 2.1 ページ構成
```
/docs
  ├── index.html          （トップページ）
  ├── getting-started.html（導入）
  ├── components.html     （コンポーネント一覧）
  ├── layout.html         （レイアウト説明）
  ├── themes.html         （テーマ切替）
  ├── examples.html       （UIデモ）
  ├── assets/
  │     ├── css/
  │     └── js/
```

### 2.2 テンプレート要件
- 上部に固定ヘッダー、左側にサイドバー。
- メインエリアは右側の広い領域。
- レスポンシブ（サイドバー折りたたみ）。

### 2.3 共通UI
- 全ページ共通で `ndma.css` を読み込む。
- サイト固有のスタイルは `/docs/assets/css/docs.css` として分離。
- インタラクション系は `/docs/assets/js/docs.js` に実装。

---

## 3. コンテンツ要件

### 3.1 Getting Started
- インストール方法
- CDN 用の `<link>` の例
- 基本レイアウトの HTML サンプル

### 3.2 コンポーネント一覧
以下のコンポーネントをデモ＋コード例で収録：
- ボタン（通常、アウトライン、非アクティブ）
- カード（タイトル＋本文）
- 警告（success / danger / warning）
- 入力フォーム（text / password / textarea）

### 3.3 レイアウト
- グリッドシステム（列の割り当て）
- フレックスユーティリティ
- スペーシングユーティリティ

### 3.4 テーマ切替
夜間最適化テーマ（CLT夜間作戦用）の仕様：
- 背景: 黒 (#000)
- テキスト: 蛍光オレンジ (#ff7a1a)
- 枠線: 細いオレンジライン
- 角丸なしの硬質デザイン

切替方法：
```html
<html data-theme="default">
<html data-theme="nightvision">
```
- JavaScript によるトグルスイッチを用意

### 3.5 Examples
- CENTRIS風の操作端末 UI モック
- 特務隊の任務ボード画面
- センサー情報一覧
- 災害発生時の緊急 UI（赤テーマ）

---

## 4. docs.css の詳細仕様

### 4.1 レイアウト
- `.docs-container` → 全体を左右2カラムに分割
- `.docs-sidebar` → 固定幅 260px、スクロール可能
- `.docs-content` → フレックス1、padding 32px

### 4.2 コンポーネント装飾
- コードブロックを `<pre><code>` で囲む
- 背景は暗め (#111)
- 行番号不要

### 4.3 ナビゲーション
- サイドバー内のリンクはリスト化
- 現在ページに `.active` クラスを付与

---

## 5. docs.js の仕様

### 5.1 テーマトグル
```js
document.querySelector('#themeToggle')
  .addEventListener('click', () => {
    const html = document.documentElement;
    const newTheme = html.dataset.theme === 'default' ? 'nightvision' : 'default';
    html.dataset.theme = newTheme;
  });
```

### 5.2 サイドバー折りたたみ
- モバイル時にハンバーガーメニューを表示
- クリックでサイドバーを表示/非表示

---

## 6. 実装手順一覧（作業単位）

### 6.1 準備
1. `/docs` フォルダを作成
2. assets/css と assets/js を作成
3. ndma.css を読み込む

### 6.2 共通レイアウト HTML テンプレート作成
- header, sidebar, main を作る
- 以降のページはこのテンプレートを複製

### 6.3 docs.css 実装
- レイアウト・コンポーネント装飾・テーマ対応を実装

### 6.4 docs.js 実装
- テーマ切替
- モバイルサイドバー

### 6.5 コンテンツページ作成
- 各ページに文章・コード例・デモブロックを配置
- コンポーネント用に小さなサンプル HTML を挿入

### 6.6 テーマ切替デモ実装
- 実際に見た目が変わる UI を複数ページに設置

### 6.7 Examples ページ作成
- CENTRIS風画面を実装（スタイルは ndma.css を活用）
- 特務隊 UI のモックを静的 HTML で構築

### 6.8 GitHub Pages 準備
- `docs/` ディレクトリを配置
- GitHub Pages のソースを `/docs` に設定

---

## 7. 成果物の要件
作成後、次を確認できること：
- PC / Mobile の UI が正しくレンダリングされる
- 夜間最適化テーマが正常に切り替わる
- コンポーネント一覧が視覚的に把握できる
- コード例が読みやすい
- Examples が `ndma-ui` の世界観を反映している

---

## 8. 補足
CENTRISの正式仕様は後から追加予定のため、モックでは以下の要素を優先：
- 黒背景（夜間モード）
- 機能区分の明確なパネル
- 隊員向け入力 UI の雰囲気

必要に応じて随時拡張する。

